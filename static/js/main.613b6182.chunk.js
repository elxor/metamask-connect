(this["webpackJsonpmetamask-connect"]=this["webpackJsonpmetamask-connect"]||[]).push([[0],{25:function(e,t,n){},36:function(e,t){},46:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),s=n(11),r=n.n(s),o=(n(25),n(2)),i=n(4),l=n(8),d=n.n(l),u=n(1),j=function(e){return Object(u.jsx)("div",{className:d.a.header,children:Object(u.jsxs)("div",{className:"".concat(d.a.content," container"),children:[Object(u.jsx)("h1",{className:d.a.title,children:"MetaMask Connect"}),e.connected?Object(u.jsx)("div",{className:d.a.address,children:e.address.slice(0,7)+"..."+e.address.slice(-8)}):Object(u.jsx)("button",{className:d.a.button,onClick:e.onClick,children:"Connect to metamask"})]})})},b=n(5),f=n.n(b),O=function(e){var t=e.data;return Object(u.jsx)("div",{className:f.a.contentWrapper,children:Object(u.jsxs)("div",{className:f.a.content,children:[Object(u.jsx)("h2",{className:f.a.title,children:"Account Information"}),t.connected?Object(u.jsxs)("div",{className:f.a.info,children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:f.a.text,children:"Address:"}),Object(u.jsx)("p",{className:"wordwrap ".concat(f.a.text),children:t.address})]}),Object(u.jsx)("div",{children:Object(u.jsxs)("p",{className:f.a.text,children:["Balance: ",Object(u.jsxs)("span",{children:[t.balance," ",t.symbol]})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)("p",{className:f.a.text,children:["Network: ",Object(u.jsx)("span",{children:t.network})]})})]}):Object(u.jsxs)("div",{className:f.a.text,children:[Object(u.jsx)("p",{children:"Information is not available"}),Object(u.jsx)("p",{children:"Please connect to metamask"})]})]})})},h=n(6),m=n.n(h),x=function(e){var t=Object(a.useState)((function(){return document.createElement("div")})),n=Object(i.a)(t,1)[0];return Object(a.useEffect)((function(){return document.body.appendChild(n),document.body.style.overflow="hidden",function(){document.body.removeChild(n),document.body.style.overflow="auto"}}),[]),Object(s.createPortal)(Object(u.jsx)("div",{className:m.a.modal,onClick:e.onClick,children:Object(u.jsxs)("div",{className:m.a.content,onClick:function(e){return e.stopPropagation()},children:[Object(u.jsx)("div",{className:m.a.close,children:Object(u.jsx)("div",{className:m.a.closeWrap,onClick:e.onClick,children:Object(u.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(u.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Object(u.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:m.a.title,children:"MetaMask not installed!"}),Object(u.jsx)("a",{href:"https://metamask.io/",target:"_blank",rel:"noopener noreferrer",className:m.a.link,children:Object(u.jsxs)("div",{className:m.a.linkInner,children:[Object(u.jsx)("p",{children:"Install Metamask"}),Object(u.jsx)("img",{src:"metamask.png",alt:"metamask-logo"})]})})]})]})}),n)},k=n(7),p=n.n(k),_=n(12),v=n(17),w=n.n(v),M=function(){var e=Object(_.a)(p.a.mark((function e(t,n){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"eth_getBalance",params:[n,"latest"]});case 2:return a=e.sent,c=w.a.hexToNumberString(a),e.abrupt("return",w.a.fromWei(c,"ether"));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(_.a)(p.a.mark((function e(t,n){var a,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}a=n,e.next=8;break;case 4:return e.next=6,t.request({method:"eth_chainId"});case 6:c=e.sent,a=c;case 8:return e.next=10,new Promise((function(e){switch(a){case"0x1":e(["Mainnet","ETH"]);break;case"0x3":e(["Ropsten","ROP"]);break;case"0x2a":e(["Kovan","KOV"]);break;case"0x4":e(["Rinkeby","RIN"]);break;case"0x5":e(["Goerli","GoETH"]);break;default:e([""])}}));case 10:return s=e.sent,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(_.a)(p.a.mark((function e(t,n){var a,c,s,r,o,l,d,u,j;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=10;break}return e.next=3,C(t);case 3:return a=e.sent,c=Object(i.a)(a,2),s=c[0],r=c[1],e.abrupt("return",[n[0],s,r]);case 10:return e.next=12,t.request({method:"eth_accounts"});case 12:if(!(o=e.sent)[0]){e.next=23;break}return e.next=16,C(t);case 16:return l=e.sent,d=Object(i.a)(l,2),u=d[0],j=d[1],e.abrupt("return",[o[0],u,j]);case 23:return e.abrupt("return",!1);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var y=function(){var e=window.ethereum,t=Object(a.useState)({modal:!1,address:"",balance:"",network:"",symbol:"",isMetaMaskInstall:!1,isConnected:!1}),n=Object(i.a)(t,2),c=n[0],s=n[1];Object(a.useEffect)((function(){r()}),[]),Object(a.useEffect)((function(){""!==c.address?M(e,c.address).then((function(e){s((function(t){return Object(o.a)(Object(o.a)({},t),{},{balance:e})}))})):s((function(e){return Object(o.a)(Object(o.a)({},e),{},{balance:""})}))}),[c.address,c.network]);var r=function(){e&&e.isMetaMask?(console.info("Metamask installed!"),s((function(e){return Object(o.a)(Object(o.a)({},e),{},{isMetaMaskInstall:!0})})),N(e).then((function(e){if(e){var t=Object(i.a)(e,3),n=t[0],a=t[1],c=t[2];s((function(e){return Object(o.a)(Object(o.a)({},e),{},{address:n,network:a,symbol:c,isConnected:!0})}))}else s((function(e){return Object(o.a)(Object(o.a)({},e),{},{isConnected:!1})}))})).catch((function(e){console.log(e)})),e.on("chainChanged",(function(t){C(e,t).then((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];s((function(e){return Object(o.a)(Object(o.a)({},e),{},{network:n,symbol:a})}))}))})),e.on("accountsChanged",(function(e){e[0]?s((function(t){return Object(o.a)(Object(o.a)({},t),{},{address:e[0]})})):s((function(e){return Object(o.a)(Object(o.a)({},e),{},{address:"",network:"",isConnected:!1})}))}))):(console.warn("Metamask not installed!"),s((function(e){return Object(o.a)(Object(o.a)({},e),{},{isMetaMaskInstall:!1})})))};return Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)(j,{address:c.address,connected:c.isConnected,onClick:function(){c.isMetaMaskInstall?e.request({method:"eth_requestAccounts"}).then((function(t){return N(e,t)})).then((function(e){var t=Object(i.a)(e,3),n=t[0],a=t[1],c=t[2];s((function(e){return Object(o.a)(Object(o.a)({},e),{},{address:n,network:a,symbol:c,isConnected:!0})}))})).catch((function(e){console.log(e)})):(console.warn("Please install MetaMask!"),s((function(e){return Object(o.a)(Object(o.a)({},e),{},{modal:!0})})))}}),Object(u.jsx)("div",{className:"container",children:Object(u.jsx)(O,{data:{address:c.address,balance:c.balance,network:c.network,symbol:c.symbol,connected:c.isConnected}})}),c.modal&&Object(u.jsx)(x,{onClick:function(){s((function(e){return Object(o.a)(Object(o.a)({},e),{},{modal:!e.modal})}))}})]})};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(y,{})}),document.getElementById("root"))},5:function(e,t,n){e.exports={contentWrapper:"Info_contentWrapper__3sPpU",content:"Info_content__ICVW0",info:"Info_info__3MZwM",title:"Info_title__2l307",text:"Info_text__iD0I_"}},6:function(e,t,n){e.exports={modal:"Modal_modal__UFZEo",content:"Modal_content__2-k1a",close:"Modal_close__1KxnH",closeWrap:"Modal_closeWrap__10AfT",title:"Modal_title__1U0P3",link:"Modal_link__Co1wv",linkInner:"Modal_linkInner__1s1eB"}},8:function(e,t,n){e.exports={header:"Header_header__l8kqj",title:"Header_title__1lEE8",content:"Header_content__3FruL",button:"Header_button__1CzvA",address:"Header_address__3Na-n"}}},[[46,1,2]]]);
//# sourceMappingURL=main.613b6182.chunk.js.map